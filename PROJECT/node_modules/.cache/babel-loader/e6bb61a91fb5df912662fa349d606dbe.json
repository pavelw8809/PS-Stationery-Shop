{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\WSB_SELCOR\\\\PROJECT\\\\src\\\\containers\\\\App.js\";\n\n/*\r\n    Plik:               App.js\r\n    Funkcja:            GŁÓWNY KOMPONENT APLIKACJI\r\n    Opis:               *** MAIN COMPONENT ***\r\n    Elementy:           Baner aplikacji (Header), \r\n                        Część główna (Bodystyle) - ROUTING,\r\n                        Footer\r\n    Funkcje:\r\n    Przykład użycia:    N/A\r\n    Dodatkowe info:     Główna strona wyświetlająca cały kontekt aplikacji oraz funkcję odpowiedzialne za zmianę stanu.\r\n*/\nimport React, { useState, useEffect } from 'react';\nimport './App.scss'; // import arkusza dla głównego komponentu\n\nimport './Main.scss'; // import arkusza ze zmiennymi głównymi SASS\n\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'; // import komponentów routingu\n\nimport Header from '../components/Header/Header'; // import komponentu bannera                                                          // Import komponentu przycisku koszyka\n\nimport '../components/Header/Header.scss';\nimport Cookies from 'js-cookie';\nimport Axios from 'axios';\nimport Index from './Index/Index'; // Strona Główna\n\nimport About from './About/About'; // O Nas\n\nimport Contact from './Contact/Contact'; // Kontakt\n\nimport Offer from './Offer/Offer'; // Oferta\n\nimport Orders from './Orders/Orders'; // Zamówienia\n\nimport ShopService from './ShopService/Services'; // Usługi\n\nimport Notfound from './Notfound/Notfound'; // 404 - Not found\n\nimport SStationary from './SStationary/SStationary'; // Sklep - Art. piśmiennicze\n\nimport SOffice from './SOffice/SOffice'; // Sklep - Art. biurowe\n\nimport SEnvelopes from './SEnvelopes/SEnvelopes'; // Sklep - Koperty\n\nimport SPaper from './SPaper/SPaper'; // Sklep - Art. papiernicze\n\nimport SHygienic from './SHygienic/SHygienic'; // Sklep - Materiały higieniczne\n\nimport SCart from './Cart/Cart'; // Koszyk\n\nimport Registration from './Registration/Registration'; // Formularz rejestracyjny\n\nimport ArtDetails from '../components/ArtDetails/ArtDetails'; // Karta produktu - szczegóły\n\nimport Account from './Account/Account';\nimport UserOrders from './UserOrders/UserOrders';\nimport SearchResult from './SearchResult/SearchResult';\nimport ExtLoginSite from './ExtLoginSite/ExtLoginSite';\nimport LoginSite from './LoginSite/LoginSite';\nimport AccountEdit from './AccountEdit/AccountEdit';\nimport Footer from '../components/Footer/Footer'; //import Login from '../components/Login/Login';\n\nexport const CartContext = React.createContext();\nexport const TotalContext = React.createContext();\nexport const UserContext = React.createContext();\nexport const ServerPath = \"http://localhost:80/WSB_SELCOR/SERVER/\";\n\nfunction App() {\n  //const [IsCS, setIsCS] = useState();\n  let CartStorage;\n\n  if (localStorage.getItem('pscart') === null) {\n    //setIsCS(false);\n    localStorage.setItem('pscart', []);\n  } else {\n    //setIsCS(true);\n    let CartData = localStorage.getItem('pscart');\n\n    if (CartData.length > 3) {\n      CartStorage = JSON.parse(CartData);\n    } else {\n      CartStorage = [];\n    }\n\n    console.log(CartStorage);\n    console.log(\"FOUND\");\n  }\n\n  const [CartList, setCartList] = useState({\n    products: CartStorage\n  });\n  console.log(CartList); // *** S T A T E S ***\n  // 1. Cart state\n  //const [Cart, setCart] = useState([]);\n  // 2. Total price state\n\n  const [Total, setTotal] = useState(0); // 3. User account state\n\n  const [User, setUser] = useState({\n    usercontrol: false,\n    userinfo: {},\n    acccontrol: false,\n    accinfo: {},\n    searchmemo: []\n  });\n  useEffect(() => {\n    let SessionId = Cookies.get('pssession');\n    let DecodedSessionId = decodeURIComponent(SessionId);\n\n    if (DecodedSessionId !== 'undefined') {\n      Axios.post(ServerPath + 'Session.php', SessionId).then(function (res) {\n        console.log(res.data);\n        setUser(prevState => ({ ...prevState,\n          usercontrol: true,\n          userinfo: res.data\n        }));\n      });\n    } else {} //setCart(CartStorage);\n\n\n    const cartmap = { ...CartList.products\n    };\n    const cartarray = [];\n    const sum = Object.values(cartmap).map(obj => {\n      cartarray.push(obj.prodtotal);\n      return obj.prodtotal;\n    }).reduce((sum, el) => {\n      console.log(sum + el);\n      return sum + el;\n    }, 0);\n    setTotal({\n      total: sum\n    });\n  }, []); //console.log(Cart);\n  // BACKGROUND IMAGE\n\n  const backgroundImg = require('../images/images/backgroud_main.jpg');\n\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"BackgroundImg\",\n    src: backgroundImg,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }), React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(UserContext.Provider, {\n    value: [User, setUser],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(TotalContext.Provider, {\n    value: [Total, setTotal],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"AppContainer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(Header, {\n    className: \"Header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"Bodystyle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/about\",\n    component: About,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/contact\",\n    component: Contact,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/offer\",\n    component: Offer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/orders\",\n    component: Orders,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/service\",\n    component: ShopService,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/sstationary\",\n    component: SStationary,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/soffice\",\n    component: SOffice,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/senvelopes\",\n    component: SEnvelopes,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/spaper\",\n    component: SPaper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/shygienic\",\n    component: SHygienic,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/cart\",\n    component: SCart,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/regform\",\n    component: Registration,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/artdetails\",\n    component: ArtDetails,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/account\",\n    component: Account,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/myorders\",\n    component: UserOrders,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/search\",\n    component: SearchResult,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/extlogin\",\n    component: ExtLoginSite,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/login\",\n    component: LoginSite,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/accountedit\",\n    component: AccountEdit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }), React.createElement(Route, {\n    component: Notfound,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }))), React.createElement(Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }))))));\n}\n\nexport default App; //        <CartContext.Provider value={[Cart, setCart]}>\n//        </CartContext.Provider>","map":{"version":3,"sources":["C:/xampp/htdocs/WSB_SELCOR/PROJECT/src/containers/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Route","Switch","Header","Cookies","Axios","Index","About","Contact","Offer","Orders","ShopService","Notfound","SStationary","SOffice","SEnvelopes","SPaper","SHygienic","SCart","Registration","ArtDetails","Account","UserOrders","SearchResult","ExtLoginSite","LoginSite","AccountEdit","Footer","CartContext","createContext","TotalContext","UserContext","ServerPath","App","CartStorage","localStorage","getItem","setItem","CartData","length","JSON","parse","console","log","CartList","setCartList","products","Total","setTotal","User","setUser","usercontrol","userinfo","acccontrol","accinfo","searchmemo","SessionId","get","DecodedSessionId","decodeURIComponent","post","then","res","data","prevState","cartmap","cartarray","sum","Object","values","map","obj","push","prodtotal","reduce","el","total","backgroundImg","require"],"mappings":"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","sourcesContent":["/*\r\n    Plik:               App.js\r\n    Funkcja:            GŁÓWNY KOMPONENT APLIKACJI\r\n    Opis:               *** MAIN COMPONENT ***\r\n    Elementy:           Baner aplikacji (Header), \r\n                        Część główna (Bodystyle) - ROUTING,\r\n                        Footer\r\n    Funkcje:\r\n    Przykład użycia:    N/A\r\n    Dodatkowe info:     Główna strona wyświetlająca cały kontekt aplikacji oraz funkcję odpowiedzialne za zmianę stanu.\r\n*/\r\n\r\nimport React, {useState, useEffect} from 'react';\r\nimport './App.scss';                                                          // import arkusza dla głównego komponentu\r\nimport './Main.scss';                                                         // import arkusza ze zmiennymi głównymi SASS\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';    // import komponentów routingu\r\nimport Header from '../components/Header/Header';                             // import komponentu bannera                                                          // Import komponentu przycisku koszyka\r\nimport '../components/Header/Header.scss';\r\nimport Cookies from 'js-cookie';\r\nimport Axios from 'axios';\r\n\r\nimport Index from './Index/Index';                                            // Strona Główna\r\nimport About from './About/About';                                            // O Nas\r\nimport Contact from './Contact/Contact';                                      // Kontakt\r\nimport Offer from './Offer/Offer';                                            // Oferta\r\nimport Orders from './Orders/Orders';                                         // Zamówienia\r\nimport ShopService from './ShopService/Services';                             // Usługi\r\nimport Notfound from './Notfound/Notfound';                                   // 404 - Not found\r\nimport SStationary from './SStationary/SStationary';                          // Sklep - Art. piśmiennicze\r\nimport SOffice from './SOffice/SOffice';                                      // Sklep - Art. biurowe\r\nimport SEnvelopes from './SEnvelopes/SEnvelopes';                             // Sklep - Koperty\r\nimport SPaper from './SPaper/SPaper';                                         // Sklep - Art. papiernicze\r\nimport SHygienic from './SHygienic/SHygienic';                                // Sklep - Materiały higieniczne\r\nimport SCart from './Cart/Cart';                                              // Koszyk\r\nimport Registration from './Registration/Registration';                       // Formularz rejestracyjny\r\nimport ArtDetails from '../components/ArtDetails/ArtDetails';                 // Karta produktu - szczegóły\r\nimport Account from './Account/Account';\r\nimport UserOrders from './UserOrders/UserOrders';\r\nimport SearchResult from './SearchResult/SearchResult';            \r\nimport ExtLoginSite from './ExtLoginSite/ExtLoginSite'; \r\nimport LoginSite from './LoginSite/LoginSite';\r\nimport AccountEdit from './AccountEdit/AccountEdit';\r\nimport Footer from '../components/Footer/Footer'\r\n//import Login from '../components/Login/Login';\r\n\r\nexport const CartContext = React.createContext();\r\nexport const TotalContext = React.createContext();\r\nexport const UserContext = React.createContext();\r\nexport const ServerPath = \"http://localhost:80/WSB_SELCOR/SERVER/\";\r\n\r\nfunction App() {\r\n\r\n  //const [IsCS, setIsCS] = useState();\r\n\r\n  let CartStorage;\r\n\r\n  if (localStorage.getItem('pscart') === null) {\r\n    //setIsCS(false);\r\n    localStorage.setItem('pscart', []);\r\n  } else {\r\n    //setIsCS(true);\r\n    let CartData = localStorage.getItem('pscart');\r\n    if (CartData.length > 3) {\r\n      CartStorage = JSON.parse(CartData);\r\n    } else {\r\n      CartStorage = [];\r\n    }\r\n    \r\n    console.log(CartStorage);\r\n    console.log(\"FOUND\");\r\n  }\r\n\r\n  const [CartList, setCartList] = useState({products: CartStorage});\r\n  console.log(CartList);\r\n\r\n// *** S T A T E S ***\r\n  \r\n  // 1. Cart state\r\n  //const [Cart, setCart] = useState([]);\r\n\r\n  // 2. Total price state\r\n  \r\n  const [Total, setTotal] = useState(0);\r\n\r\n  // 3. User account state\r\n\r\n  const [User, setUser] = useState({\r\n    usercontrol: false,\r\n    userinfo: {},\r\n    acccontrol: false,\r\n    accinfo: {},\r\n    searchmemo: []\r\n  });\r\n\r\n  useEffect(() => {\r\n    let SessionId = Cookies.get('pssession');\r\n    let DecodedSessionId = decodeURIComponent(SessionId);\r\n    if (DecodedSessionId !== 'undefined') {\r\n      Axios.post(ServerPath + 'Session.php', SessionId)\r\n        .then(function(res) {\r\n          console.log(res.data);\r\n          setUser((prevState) => ({...prevState, usercontrol: true, userinfo: res.data}));\r\n      })\r\n    } else {\r\n\r\n    }\r\n    //setCart(CartStorage);\r\n\r\n    const cartmap = {\r\n      ...CartList.products\r\n    };\r\n\r\n    const cartarray = [];\r\n    \r\n    const sum = Object.values(cartmap)\r\n      .map(obj => { cartarray.push(obj.prodtotal); return obj.prodtotal\r\n    })\r\n      .reduce((sum, el) => {console.log(sum+el); return sum+el; }, 0);\r\n\r\n    setTotal({total: sum});\r\n\r\n  }, [])\r\n\r\n  //console.log(Cart);\r\n\r\n  \r\n\r\n\r\n  // BACKGROUND IMAGE\r\n\r\n  const backgroundImg = require('../images/images/backgroud_main.jpg');\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <img className=\"BackgroundImg\" src={backgroundImg}/>\r\n      <Router>\r\n        <UserContext.Provider value={[User, setUser]}>\r\n        <TotalContext.Provider value={[Total, setTotal]}>\r\n          <div className=\"AppContainer\">\r\n            <Header className=\"Header\" />\r\n            <div className=\"Bodystyle\">\r\n              <Switch>\r\n                  <Route exact path=\"/\" component={Index}/>\r\n                  <Route path=\"/about\" component={About}/>\r\n                  <Route path=\"/contact\" component={Contact}/>\r\n                  <Route path=\"/offer\" component={Offer}/>\r\n                  <Route path=\"/orders\" component={Orders}/>\r\n                  <Route path=\"/service\" component={ShopService}/>\r\n                  <Route path=\"/sstationary\" component={SStationary}/>\r\n                  <Route path=\"/soffice\" component={SOffice}/>\r\n                  <Route path=\"/senvelopes\" component={SEnvelopes}/>\r\n                  <Route path=\"/spaper\" component={SPaper}/>\r\n                  <Route path=\"/shygienic\" component={SHygienic}/>\r\n                  <Route path=\"/cart\" component={SCart}/>\r\n                  <Route path=\"/regform\" component={Registration}/>\r\n                  <Route path=\"/artdetails\" component={ArtDetails}/>\r\n                  <Route path=\"/account\" component={Account}/>\r\n                  <Route path=\"/myorders\" component={UserOrders}/>\r\n                  <Route path=\"/search\" component={SearchResult}/>\r\n                  <Route path=\"/extlogin\" component={ExtLoginSite}/>\r\n                  <Route path=\"/login\" component={LoginSite}/>\r\n                  <Route path=\"/accountedit\" component={AccountEdit}/>\r\n                  <Route component={Notfound}/>\r\n              </Switch>\r\n            </div>\r\n            <Footer/>\r\n          </div>\r\n        </TotalContext.Provider>\r\n        </UserContext.Provider>\r\n      </Router>\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default App;\r\n\r\n//        <CartContext.Provider value={[Cart, setCart]}>\r\n//        </CartContext.Provider>"]},"metadata":{},"sourceType":"module"}