{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\WSB_SELCOR\\\\PROJECT\\\\src\\\\components\\\\Login\\\\Login.js\";\nimport React, { useState, useContext } from 'react';\nimport './Login.scss';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport Axios from 'axios';\nimport { ServerPath, UserContext } from '../../containers/App';\nimport Cookies from 'js-cookie';\n\nconst Login = () => {\n  /*\r\n      const [LoginData, setLoginData] = useState({\r\n          userdata: [\r\n              {user: ''},\r\n              {password: ''}\r\n          ]\r\n      });\r\n  */\n  const [LoginData, setLoginData] = useState();\n  const [User, setUser] = useContext(UserContext);\n\n  const handleUsername = event => {\n    setLoginData({ ...LoginData,\n      user: event.target.value\n    });\n  };\n\n  const handlePassword = event => {\n    setLoginData({ ...LoginData,\n      password: event.target.value\n    });\n  };\n\n  let history = useHistory();\n\n  const handleLogin = () => {\n    //console.log(LoginData.user + \"/\" + LoginData.password);\n    console.log(LoginData);\n    Axios.post(ServerPath + \"Login.php\", LoginData).then(function (res) {\n      console.log(res.data);\n      setUser({\n        userinfo: {\n          id: res.data.u_id,\n          login: res.data.u_login\n        }\n      });\n      Cookies.set('psacc', res.data.u_id);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"Login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Nazwa u\\u017Cytkownika:\"), React.createElement(\"input\", {\n    type: \"text\",\n    onChange: handleUsername,\n    name: \"login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"pass\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Has\\u0142o:\"), React.createElement(\"input\", {\n    type: \"password\",\n    onChange: handlePassword,\n    name: \"pass\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"LoginBtn\",\n    onClick: handleLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"ZALOGUJ\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Nie masz konta?\"), React.createElement(NavLink, {\n    to: \"/regform\",\n    className: \"RegBtnContainer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"RegBtn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"ZAREJESTRUJ SI\\u0118\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/xampp/htdocs/WSB_SELCOR/PROJECT/src/components/Login/Login.js"],"names":["React","useState","useContext","NavLink","useHistory","Axios","ServerPath","UserContext","Cookies","Login","LoginData","setLoginData","User","setUser","handleUsername","event","user","target","value","handlePassword","password","history","handleLogin","console","log","post","then","res","data","userinfo","id","u_id","login","u_login","set"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA2C,OAA3C;AACA,OAAO,cAAP;AACA,SAASC,OAAT,EAAkBC,UAAlB,QAAoC,kBAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,sBAAxC;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,MAAMC,KAAK,GAAG,MAAM;AACpB;;;;;;;;AASI,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,EAA1C;AACA,QAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBX,UAAU,CAACK,WAAD,CAAlC;;AAEA,QAAMO,cAAc,GAAIC,KAAD,IAAW;AAC9BJ,IAAAA,YAAY,CAAC,EAAC,GAAGD,SAAJ;AAAeM,MAAAA,IAAI,EAAED,KAAK,CAACE,MAAN,CAAaC;AAAlC,KAAD,CAAZ;AACH,GAFD;;AAIA,QAAMC,cAAc,GAAIJ,KAAD,IAAW;AAC9BJ,IAAAA,YAAY,CAAC,EAAC,GAAGD,SAAJ;AAAeU,MAAAA,QAAQ,EAAEL,KAAK,CAACE,MAAN,CAAaC;AAAtC,KAAD,CAAZ;AACH,GAFD;;AAIA,MAAIG,OAAO,GAAGjB,UAAU,EAAxB;;AAEA,QAAMkB,WAAW,GAAG,MAAM;AACtB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYd,SAAZ;AACAL,IAAAA,KAAK,CAACoB,IAAN,CAAWnB,UAAU,GAAG,WAAxB,EAAqCI,SAArC,EACCgB,IADD,CACM,UAASC,GAAT,EAAc;AAChBJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,IAAhB;AACAf,MAAAA,OAAO,CAAC;AACLgB,QAAAA,QAAQ,EAAE;AACNC,UAAAA,EAAE,EAAEH,GAAG,CAACC,IAAJ,CAASG,IADP;AAENC,UAAAA,KAAK,EAAEL,GAAG,CAACC,IAAJ,CAASK;AAFV;AADL,OAAD,CAAP;AAMAzB,MAAAA,OAAO,CAAC0B,GAAR,CAAY,OAAZ,EAAqBP,GAAG,CAACC,IAAJ,CAASG,IAA9B;AAEH,KAXD;AAYH,GAfD;;AAiBA,SACI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADJ,EAEI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,QAAQ,EAAEjB,cAA7B;AAA6C,IAAA,IAAI,EAAC,OAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAO,IAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAHJ,EAII;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,QAAQ,EAAEK,cAAjC;AAAiD,IAAA,IAAI,EAAC,MAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAKI;AAAQ,IAAA,SAAS,EAAC,UAAlB;AAA6B,IAAA,OAAO,EAAEG,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALJ,EAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBANJ,EAOI,oBAAC,OAAD;AAAS,IAAA,EAAE,EAAC,UAAZ;AAAuB,IAAA,SAAS,EAAC,iBAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,SAAS,EAAC,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,CAPJ,CADJ;AAaH,CArDD;;AAuDA,eAAeb,KAAf","sourcesContent":["import React, { useState, useContext} from 'react';\r\nimport './Login.scss'\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport Axios from 'axios';\r\nimport { ServerPath, UserContext } from '../../containers/App';\r\nimport Cookies from 'js-cookie';\r\n\r\nconst Login = () => {\r\n/*\r\n    const [LoginData, setLoginData] = useState({\r\n        userdata: [\r\n            {user: ''},\r\n            {password: ''}\r\n        ]\r\n    });\r\n*/\r\n\r\n    const [LoginData, setLoginData] = useState()\r\n    const [User, setUser] = useContext(UserContext)\r\n\r\n    const handleUsername = (event) => {\r\n        setLoginData({...LoginData, user: event.target.value});\r\n    }\r\n\r\n    const handlePassword = (event) => {\r\n        setLoginData({...LoginData, password: event.target.value});\r\n    }\r\n\r\n    let history = useHistory();\r\n\r\n    const handleLogin = () => {\r\n        //console.log(LoginData.user + \"/\" + LoginData.password);\r\n        console.log(LoginData);\r\n        Axios.post(ServerPath + \"Login.php\", LoginData)\r\n        .then(function(res) {\r\n            console.log(res.data);\r\n            setUser({\r\n               userinfo: {\r\n                   id: res.data.u_id,\r\n                   login: res.data.u_login\r\n               } \r\n            })\r\n            Cookies.set('psacc', res.data.u_id)\r\n\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className=\"Login\">\r\n            <label htmlFor=\"login\">Nazwa użytkownika:</label>\r\n            <input type=\"text\" onChange={handleUsername} name=\"login\"/>\r\n            <label htmlFor=\"pass\">Hasło:</label>\r\n            <input type=\"password\" onChange={handlePassword} name=\"pass\"/>\r\n            <button className=\"LoginBtn\" onClick={handleLogin}>ZALOGUJ</button>\r\n            <p>Nie masz konta?</p>\r\n            <NavLink to=\"/regform\" className=\"RegBtnContainer\">\r\n                <button className=\"RegBtn\">ZAREJESTRUJ SIĘ</button>\r\n            </NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}