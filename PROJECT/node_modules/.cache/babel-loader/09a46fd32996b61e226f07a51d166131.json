{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\WSB_SELCOR\\\\PROJECT\\\\src\\\\containers\\\\App.js\";\n\n/*\r\n    Plik:               App.js\r\n    Funkcja:            GŁÓWNY KOMPONENT APLIKACJI\r\n    Opis:               *** MAIN COMPONENT ***\r\n    Elementy:           Baner aplikacji (Header), \r\n                        Część główna (Bodystyle) - ROUTING,\r\n                        Footer\r\n    Funkcje:\r\n    Przykład użycia:    N/A\r\n    Dodatkowe info:     Główna strona wyświetlająca cały kontekt aplikacji oraz funkcję odpowiedzialne za zmianę stanu.\r\n*/\nimport React, { useState, useEffect } from 'react';\nimport './App.scss'; // import arkusza dla głównego komponentu\n\nimport './Main.scss'; // import arkusza ze zmiennymi głównymi SASS\n\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'; // import komponentów routingu\n\nimport Header from '../components/Header/Header'; // import komponentu bannera                                                          // Import komponentu przycisku koszyka\n\nimport '../components/Header/Header.scss';\nimport Cookies from 'js-cookie';\nimport Axios from 'axios';\nimport Index from './Index/Index'; // Strona Główna\n\nimport About from './About/About'; // O Nas\n\nimport Contact from './Contact/Contact'; // Kontakt\n\nimport Orders from './Orders/Orders'; // Zamówienia\n\nimport ShopService from './ShopService/Services'; // Usługi\n\nimport Notfound from './Notfound/Notfound'; // 404 - Not found\n\nimport SStationary from './SStationary/SStationary'; // Sklep - Art. piśmiennicze\n\nimport SOffice from './SOffice/SOffice'; // Sklep - Art. biurowe\n\nimport SEnvelopes from './SEnvelopes/SEnvelopes'; // Sklep - Koperty\n\nimport SPaper from './SPaper/SPaper'; // Sklep - Art. papiernicze\n\nimport SHygienic from './SHygienic/SHygienic'; // Sklep - Materiały higieniczne\n\nimport SCart from './Cart/Cart'; // Koszyk\n\nimport Registration from './Registration/Registration'; // Formularz rejestracyjny\n\nimport ArtDetails from '../components/ArtDetails/ArtDetails'; // Karta produktu - szczegóły\n\nimport Account from './Account/Account'; // Informacje o koncie\n\nimport UserOrders from './UserOrders/UserOrders'; // Moje zamówienia\n\nimport SearchResult from './SearchResult/SearchResult'; // Rezultaty wyszukiwania\n\nimport ExtLoginSite from './ExtLoginSite/ExtLoginSite'; // Strona logowania rozszerzonego\n\nimport LoginSite from './LoginSite/LoginSite'; // Strona logowania zwykłego\n\nimport Info from './Info/Info'; // Komponent informacyjny\n\nimport Footer from '../components/Footer/Footer';\nimport RegCompany from './RegCompany/RegCompany';\nimport RegIndividual from './RegIndividual/RegIndividual';\nimport Confirmation from './Confirmation/Confirmation';\nimport CookieInfo from '../components/CookieInfo/CookieInfo';\nexport const TotalContext = React.createContext();\nexport const UserContext = React.createContext();\nexport const ServerPath = \"http://localhost:80/WSB_SELCOR/SERVER/\";\n\nfunction App() {\n  let CartStorage;\n\n  if (localStorage.getItem('pscart') === null) {\n    localStorage.setItem('pscart', JSON.stringify([]));\n  } else {\n    let CartData = localStorage.getItem('pscart');\n\n    if (CartData.length > 3) {\n      CartStorage = JSON.parse(CartData);\n    } else {\n      CartStorage = [];\n    }\n  } // *** S T A T E S ***\n  // 1. Cart state\n\n\n  const [Cart, setCart] = useState({\n    products: CartStorage\n  }); // 2. Total price state\n\n  const [Total, setTotal] = useState(0); // 3. User account state\n\n  const [User, setUser] = useState({\n    usercontrol: false,\n    userinfo: {},\n    acccontrol: false,\n    accinfo: {}\n  });\n  useEffect(() => {\n    let SessionId = Cookies.get('pssession');\n    let DecodedSessionId = decodeURIComponent(SessionId);\n\n    if (DecodedSessionId !== 'undefined') {\n      Axios.post(ServerPath + 'Session.php', SessionId).then(function (res) {\n        setUser(prevState => ({ ...prevState,\n          usercontrol: true,\n          userinfo: res.data\n        }));\n      });\n    }\n\n    const cartmap = { ...Cart.products\n    };\n    const cartarray = [];\n    const sum = Object.values(cartmap).map(obj => {\n      cartarray.push(obj.prodtotal);\n      return obj.prodtotal;\n    }).reduce((sum, el) => {\n      return sum + el;\n    }, 0);\n    setTotal({\n      total: sum\n    });\n  }, []); // BACKGROUND IMAGE\n\n  const backgroundImg = require('../images/images/backgroud_main.jpg');\n\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"BackgroundImg\",\n    src: backgroundImg,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }), React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(UserContext.Provider, {\n    value: [User, setUser],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(TotalContext.Provider, {\n    value: [Total, setTotal],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"AppContainer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(Header, {\n    className: \"Header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"Bodystyle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/about\",\n    component: About,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/contact\",\n    component: Contact,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/orders\",\n    component: Orders,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/service\",\n    component: ShopService,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/sstationary\",\n    component: SStationary,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/soffice\",\n    component: SOffice,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/senvelopes\",\n    component: SEnvelopes,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/spaper\",\n    component: SPaper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/shygienic\",\n    component: SHygienic,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/cart\",\n    component: SCart,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/regform\",\n    component: Registration,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/artdetails\",\n    component: ArtDetails,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/account\",\n    component: Account,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/myorders\",\n    component: UserOrders,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/search\",\n    component: SearchResult,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/extlogin\",\n    component: ExtLoginSite,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/login\",\n    component: LoginSite,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/info\",\n    component: Info,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/regcompany\",\n    component: RegCompany,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/regindividual\",\n    component: RegIndividual,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/confirmation\",\n    component: Confirmation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }), React.createElement(Route, {\n    component: Notfound,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }))), React.createElement(Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }))))), React.createElement(CookieInfo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/xampp/htdocs/WSB_SELCOR/PROJECT/src/containers/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Route","Switch","Header","Cookies","Axios","Index","About","Contact","Orders","ShopService","Notfound","SStationary","SOffice","SEnvelopes","SPaper","SHygienic","SCart","Registration","ArtDetails","Account","UserOrders","SearchResult","ExtLoginSite","LoginSite","Info","Footer","RegCompany","RegIndividual","Confirmation","CookieInfo","TotalContext","createContext","UserContext","ServerPath","App","CartStorage","localStorage","getItem","setItem","JSON","stringify","CartData","length","parse","Cart","setCart","products","Total","setTotal","User","setUser","usercontrol","userinfo","acccontrol","accinfo","SessionId","get","DecodedSessionId","decodeURIComponent","post","then","res","prevState","data","cartmap","cartarray","sum","Object","values","map","obj","push","prodtotal","reduce","el","total","backgroundImg","require"],"mappings":"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","sourcesContent":["/*\r\n    Plik:               App.js\r\n    Funkcja:            GŁÓWNY KOMPONENT APLIKACJI\r\n    Opis:               *** MAIN COMPONENT ***\r\n    Elementy:           Baner aplikacji (Header), \r\n                        Część główna (Bodystyle) - ROUTING,\r\n                        Footer\r\n    Funkcje:\r\n    Przykład użycia:    N/A\r\n    Dodatkowe info:     Główna strona wyświetlająca cały kontekt aplikacji oraz funkcję odpowiedzialne za zmianę stanu.\r\n*/\r\n\r\nimport React, {useState, useEffect} from 'react';\r\nimport './App.scss';                                                          // import arkusza dla głównego komponentu\r\nimport './Main.scss';                                                         // import arkusza ze zmiennymi głównymi SASS\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';    // import komponentów routingu\r\nimport Header from '../components/Header/Header';                             // import komponentu bannera                                                          // Import komponentu przycisku koszyka\r\nimport '../components/Header/Header.scss';\r\nimport Cookies from 'js-cookie';\r\nimport Axios from 'axios';\r\n\r\nimport Index from './Index/Index';                                            // Strona Główna\r\nimport About from './About/About';                                            // O Nas\r\nimport Contact from './Contact/Contact';                                      // Kontakt\r\nimport Orders from './Orders/Orders';                                         // Zamówienia\r\nimport ShopService from './ShopService/Services';                             // Usługi\r\nimport Notfound from './Notfound/Notfound';                                   // 404 - Not found\r\nimport SStationary from './SStationary/SStationary';                          // Sklep - Art. piśmiennicze\r\nimport SOffice from './SOffice/SOffice';                                      // Sklep - Art. biurowe\r\nimport SEnvelopes from './SEnvelopes/SEnvelopes';                             // Sklep - Koperty\r\nimport SPaper from './SPaper/SPaper';                                         // Sklep - Art. papiernicze\r\nimport SHygienic from './SHygienic/SHygienic';                                // Sklep - Materiały higieniczne\r\nimport SCart from './Cart/Cart';                                              // Koszyk\r\nimport Registration from './Registration/Registration';                       // Formularz rejestracyjny\r\nimport ArtDetails from '../components/ArtDetails/ArtDetails';                 // Karta produktu - szczegóły\r\nimport Account from './Account/Account';                                      // Informacje o koncie\r\nimport UserOrders from './UserOrders/UserOrders';                             // Moje zamówienia\r\nimport SearchResult from './SearchResult/SearchResult';                       // Rezultaty wyszukiwania\r\nimport ExtLoginSite from './ExtLoginSite/ExtLoginSite';                       // Strona logowania rozszerzonego\r\nimport LoginSite from './LoginSite/LoginSite';                                // Strona logowania zwykłego\r\nimport Info from './Info/Info';                                               // Komponent informacyjny\r\nimport Footer from '../components/Footer/Footer';\r\nimport RegCompany from './RegCompany/RegCompany';\r\nimport RegIndividual from './RegIndividual/RegIndividual';\r\nimport Confirmation from './Confirmation/Confirmation';\r\nimport CookieInfo from '../components/CookieInfo/CookieInfo';\r\n\r\nexport const TotalContext = React.createContext();\r\nexport const UserContext = React.createContext();\r\nexport const ServerPath = \"http://localhost:80/WSB_SELCOR/SERVER/\";\r\n\r\nfunction App() {\r\n\r\n  let CartStorage;\r\n\r\n  if (localStorage.getItem('pscart') === null) {\r\n    localStorage.setItem('pscart', JSON.stringify([]));\r\n  } else {\r\n    let CartData = localStorage.getItem('pscart');\r\n    if (CartData.length > 3) {\r\n      CartStorage = JSON.parse(CartData);\r\n    } else {\r\n      CartStorage = [];\r\n    }\r\n  }\r\n\r\n// *** S T A T E S ***\r\n  \r\n  // 1. Cart state\r\n  const [Cart, setCart] = useState({products: CartStorage});\r\n\r\n  // 2. Total price state\r\n  const [Total, setTotal] = useState(0);\r\n\r\n  // 3. User account state\r\n  const [User, setUser] = useState({\r\n    usercontrol: false,\r\n    userinfo: {},\r\n    acccontrol: false,\r\n    accinfo: {}\r\n  });\r\n\r\n  useEffect(() => {\r\n    let SessionId = Cookies.get('pssession');\r\n    let DecodedSessionId = decodeURIComponent(SessionId);\r\n    if (DecodedSessionId !== 'undefined') {\r\n      Axios.post(ServerPath + 'Session.php', SessionId)\r\n        .then(function(res) {\r\n          setUser((prevState) => ({...prevState, usercontrol: true, userinfo: res.data}));\r\n      })\r\n    } \r\n\r\n    const cartmap = {\r\n      ...Cart.products\r\n    };\r\n\r\n    const cartarray = [];\r\n    \r\n    const sum = Object.values(cartmap)\r\n      .map(obj => { cartarray.push(obj.prodtotal); return obj.prodtotal\r\n    })\r\n      .reduce((sum, el) => {return sum+el;}, 0);\r\n\r\n    setTotal({total: sum});\r\n\r\n  }, [])\r\n\r\n  // BACKGROUND IMAGE\r\n\r\n  const backgroundImg = require('../images/images/backgroud_main.jpg');\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <img className=\"BackgroundImg\" src={backgroundImg}/>\r\n      <Router>\r\n        <UserContext.Provider value={[User, setUser]}>\r\n        <TotalContext.Provider value={[Total, setTotal]}>\r\n          <div className=\"AppContainer\">\r\n            <Header className=\"Header\" />\r\n            <div className=\"Bodystyle\">\r\n              <Switch>\r\n                  <Route exact path=\"/\" component={Index}/>\r\n                  <Route path=\"/about\" component={About}/>\r\n                  <Route path=\"/contact\" component={Contact}/>\r\n                  <Route path=\"/orders\" component={Orders}/>\r\n                  <Route path=\"/service\" component={ShopService}/>\r\n                  <Route path=\"/sstationary\" component={SStationary}/>\r\n                  <Route path=\"/soffice\" component={SOffice}/>\r\n                  <Route path=\"/senvelopes\" component={SEnvelopes}/>\r\n                  <Route path=\"/spaper\" component={SPaper}/>\r\n                  <Route path=\"/shygienic\" component={SHygienic}/>\r\n                  <Route path=\"/cart\" component={SCart}/>\r\n                  <Route path=\"/regform\" component={Registration}/>\r\n                  <Route path=\"/artdetails\" component={ArtDetails}/>\r\n                  <Route path=\"/account\" component={Account}/>\r\n                  <Route path=\"/myorders\" component={UserOrders}/>\r\n                  <Route path=\"/search\" component={SearchResult}/>\r\n                  <Route path=\"/extlogin\" component={ExtLoginSite}/>\r\n                  <Route path=\"/login\" component={LoginSite}/>\r\n                  <Route path=\"/info\" component={Info}/>\r\n                  <Route path=\"/regcompany\" component={RegCompany}/>\r\n                  <Route path=\"/regindividual\" component={RegIndividual}/>\r\n                  <Route path=\"/confirmation\" component={Confirmation}/>\r\n                  <Route component={Notfound}/>\r\n              </Switch>\r\n            </div>\r\n            <Footer/>\r\n          </div>\r\n        </TotalContext.Provider>\r\n        </UserContext.Provider>\r\n      </Router>\r\n      <CookieInfo/>\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}