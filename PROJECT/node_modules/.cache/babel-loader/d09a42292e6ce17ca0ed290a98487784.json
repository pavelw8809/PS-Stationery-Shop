{"ast":null,"code":"import React, { useState, useContext } from 'react';\nimport './Login.scss';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport Axios from 'axios';\nimport { ServerPath, UserContext } from '../../containers/App';\nimport Cookies from 'js-cookie';\n\nconst Login = props => {\n  /*\r\n      const [LoginData, setLoginData] = useState({\r\n          userdata: [\r\n              {user: ''},\r\n              {password: ''}\r\n          ]\r\n      });\r\n  \r\n  \r\n      const [LoginData, setLoginData] = useState()\r\n      const [User, setUser] = useContext(UserContext)\r\n  \r\n      const handleUsername = (event) => {\r\n          setLoginData({...LoginData, user: event.target.value});\r\n      }\r\n  \r\n      const handlePassword = (event) => {\r\n          setLoginData({...LoginData, password: event.target.value});\r\n      }\r\n  \r\n      let history = useHistory();\r\n  \r\n      const handleLogin = () => {\r\n          //console.log(LoginData.user + \"/\" + LoginData.password);\r\n          console.log(LoginData);\r\n          Axios.post(ServerPath + \"Login.php\", LoginData)\r\n          .then(function(res) {\r\n              console.log(res.data);\r\n              setUser({\r\n                 userinfo: {\r\n                     id: res.data.u_id,\r\n                     login: res.data.u_login\r\n                 } \r\n              })\r\n              Cookies.set('psid', res.data.u_id);\r\n              Cookies.set('psname', res.data.u_login);\r\n              //props.LogShow = false;\r\n          })\r\n      }\r\n  \r\n      return(\r\n          <div className=\"Login\">\r\n              <label htmlFor=\"login\">Nazwa użytkownika:</label>\r\n              <input type=\"text\" onChange={handleUsername} name=\"login\"/>\r\n              <label htmlFor=\"pass\">Hasło:</label>\r\n              <input type=\"password\" onChange={handlePassword} name=\"pass\"/>\r\n              <button className=\"LoginBtn\" onClick={handleLogin}>ZALOGUJ</button>\r\n              <p>Nie masz konta?</p>\r\n              <NavLink to=\"/regform\" className=\"RegBtnContainer\">\r\n                  <button className=\"RegBtn\">ZAREJESTRUJ SIĘ</button>\r\n              </NavLink>\r\n          </div>\r\n      )*/\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/xampp/htdocs/WSB_SELCOR/PROJECT/src/components/Login/Login.js"],"names":["React","useState","useContext","NavLink","useHistory","Axios","ServerPath","UserContext","Cookies","Login","props"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA2C,OAA3C;AACA,OAAO,cAAP;AACA,SAASC,OAAT,EAAkBC,UAAlB,QAAoC,kBAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,sBAAxC;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AACzB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDC,CAtDD;;AAwDA,eAAeD,KAAf","sourcesContent":["import React, { useState, useContext} from 'react';\r\nimport './Login.scss'\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport Axios from 'axios';\r\nimport { ServerPath, UserContext } from '../../containers/App';\r\nimport Cookies from 'js-cookie';\r\n\r\nconst Login = (props) => {\r\n/*\r\n    const [LoginData, setLoginData] = useState({\r\n        userdata: [\r\n            {user: ''},\r\n            {password: ''}\r\n        ]\r\n    });\r\n\r\n\r\n    const [LoginData, setLoginData] = useState()\r\n    const [User, setUser] = useContext(UserContext)\r\n\r\n    const handleUsername = (event) => {\r\n        setLoginData({...LoginData, user: event.target.value});\r\n    }\r\n\r\n    const handlePassword = (event) => {\r\n        setLoginData({...LoginData, password: event.target.value});\r\n    }\r\n\r\n    let history = useHistory();\r\n\r\n    const handleLogin = () => {\r\n        //console.log(LoginData.user + \"/\" + LoginData.password);\r\n        console.log(LoginData);\r\n        Axios.post(ServerPath + \"Login.php\", LoginData)\r\n        .then(function(res) {\r\n            console.log(res.data);\r\n            setUser({\r\n               userinfo: {\r\n                   id: res.data.u_id,\r\n                   login: res.data.u_login\r\n               } \r\n            })\r\n            Cookies.set('psid', res.data.u_id);\r\n            Cookies.set('psname', res.data.u_login);\r\n            //props.LogShow = false;\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className=\"Login\">\r\n            <label htmlFor=\"login\">Nazwa użytkownika:</label>\r\n            <input type=\"text\" onChange={handleUsername} name=\"login\"/>\r\n            <label htmlFor=\"pass\">Hasło:</label>\r\n            <input type=\"password\" onChange={handlePassword} name=\"pass\"/>\r\n            <button className=\"LoginBtn\" onClick={handleLogin}>ZALOGUJ</button>\r\n            <p>Nie masz konta?</p>\r\n            <NavLink to=\"/regform\" className=\"RegBtnContainer\">\r\n                <button className=\"RegBtn\">ZAREJESTRUJ SIĘ</button>\r\n            </NavLink>\r\n        </div>\r\n    )*/\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}