{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\WSB_SELCOR\\\\PROJECT\\\\src\\\\containers\\\\LoginSite\\\\LoginSite.js\";\n\n/*\r\n    Plik:               Login.js\r\n    Funkcja:            STRONA Z FORMULARZEM REJESTRACYJNYM\r\n    Opis:               Formularz rejestracyjny dla osób chcących założyć konto\r\n    Elementy:           Formularz rejestracyjny\r\n    Przykład użycia:    N/A\r\n    Dodatkowe info:     Walidacja danych, dodawanie nowego usera\r\n*/\nimport React, { useState, useContext } from 'react';\nimport './LoginSite.scss';\nimport Axios from 'axios';\nimport { UserContext, ServerPath } from '../App';\nimport { useHistory } from 'react-router-dom';\n\nconst LoginSite = props => {\n  const [ErrorContent, setErrorContent] = useState();\n  const [Login, setLogin] = useState();\n  const [User, setUser] = useContext(UserContext);\n\n  const handleLogin = event => {\n    if (event.keyCode === 13) {\n      submitCredentials();\n    } else {\n      setLogin({ ...Login,\n        user: event.target.value\n      });\n    }\n  };\n\n  const handlePassword = event => {\n    if (event.keyCode === 13) {\n      submitCredentials();\n    } else {\n      setLogin({ ...Login,\n        password: event.target.value\n      });\n    }\n  };\n\n  const submitCredentials = () => {\n    Axios.post(ServerPath + 'extLogin.php', Login).then(res => {\n      if (res.data.length > 0) {\n        //setAccountInfo(res.data);\n        console.log(res.data);\n        res.data.map((r, index) => {\n          setUser(prevState => ({ ...prevState,\n            accinfo: {\n              mail: r.u_mail,\n              cname: r.cc_name,\n              ccity: r.cc_city,\n              cstreet: r.cc_street,\n              chouse: r.cc_number,\n              cflat: r.cc_number_flat,\n              czip: r.cc_zip,\n              cnip: r.cc_NIP,\n              cregon: r.cc_REGON,\n              iname: r.ci_name,\n              isurname: r.ci_surname,\n              icity: r.ci_city,\n              istreet: r.ci_street,\n              ihouse: r.ci_number,\n              iflat: r.ci_number_flat,\n              izip: r.ci_zip\n            }\n          }));\n        });\n      }\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Dost\\u0119p do informacji: \", props.feature, \" wymaga dodatkowego uwierzytelnienia.\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Prosz\\u0119 zaloguj si\\u0119 ponownie\"), React.createElement(\"label\", {\n    for: \"mail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"mail\",\n    onChange: handleLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    for: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"password\",\n    onChange: handlePassword,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"ZALOGUJ\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, ErrorContent));\n};\n\nexport default LoginSite;","map":{"version":3,"sources":["C:/xampp/htdocs/WSB_SELCOR/PROJECT/src/containers/LoginSite/LoginSite.js"],"names":["React","useState","useContext","Axios","UserContext","ServerPath","useHistory","LoginSite","props","ErrorContent","setErrorContent","Login","setLogin","User","setUser","handleLogin","event","keyCode","submitCredentials","user","target","value","handlePassword","password","post","then","res","data","length","console","log","map","r","index","prevState","accinfo","mail","u_mail","cname","cc_name","ccity","cc_city","cstreet","cc_street","chouse","cc_number","cflat","cc_number_flat","czip","cc_zip","cnip","cc_NIP","cregon","cc_REGON","iname","ci_name","isurname","ci_surname","icity","ci_city","istreet","ci_street","ihouse","ci_number","iflat","ci_number_flat","izip","ci_zip","feature"],"mappings":"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","sourcesContent":["/*\r\n    Plik:               Login.js\r\n    Funkcja:            STRONA Z FORMULARZEM REJESTRACYJNYM\r\n    Opis:               Formularz rejestracyjny dla osób chcących założyć konto\r\n    Elementy:           Formularz rejestracyjny\r\n    Przykład użycia:    N/A\r\n    Dodatkowe info:     Walidacja danych, dodawanie nowego usera\r\n*/\r\n\r\nimport React, { useState, useContext } from 'react';\r\nimport './LoginSite.scss'\r\nimport Axios from 'axios';\r\nimport { UserContext, ServerPath } from '../App';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst LoginSite = (props) => {\r\n\r\n    const [ErrorContent, setErrorContent] = useState();\r\n    const [Login, setLogin] = useState();\r\n    const [User, setUser] = useContext(UserContext);\r\n\r\n    const handleLogin = (event) => {\r\n        if (event.keyCode === 13) {\r\n            submitCredentials();\r\n        } else {\r\n            setLogin({...Login, user: event.target.value});\r\n        }\r\n    }\r\n\r\n    const handlePassword = (event) => {\r\n        if (event.keyCode === 13) {\r\n            submitCredentials();\r\n        } else {\r\n            setLogin({...Login, password: event.target.value});\r\n        }\r\n    }\r\n\r\n    const submitCredentials = () => {\r\n        Axios.post(ServerPath + 'extLogin.php', Login)\r\n        .then(res => {\r\n            if(res.data.length > 0) {\r\n                //setAccountInfo(res.data);\r\n                console.log(res.data);\r\n                res.data.map((r, index) => {\r\n                    setUser((prevState) => ({...prevState, accinfo: {\r\n                        mail: r.u_mail,\r\n                        cname: r.cc_name,\r\n                        ccity: r.cc_city,\r\n                        cstreet: r.cc_street,\r\n                        chouse: r.cc_number,\r\n                        cflat: r.cc_number_flat,\r\n                        czip: r.cc_zip,\r\n                        cnip: r.cc_NIP,\r\n                        cregon: r.cc_REGON,\r\n                        iname: r.ci_name,\r\n                        isurname: r.ci_surname,\r\n                        icity: r.ci_city,\r\n                        istreet: r.ci_street,\r\n                        ihouse: r.ci_number,\r\n                        iflat: r.ci_number_flat,\r\n                        izip: r.ci_zip\r\n                    }}));\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <h3>Dostęp do informacji: {props.feature} wymaga dodatkowego uwierzytelnienia.</h3>\r\n            <p>Proszę zaloguj się ponownie</p>\r\n            <label for=\"mail\"/>\r\n            <input type=\"text\" name=\"mail\" onChange={handleLogin}></input><br/>\r\n            <label for=\"password\"/>\r\n            <input type=\"text\" name=\"password\" onChange={handlePassword}></input><br/>\r\n            <button type=\"submit\">ZALOGUJ</button>\r\n            <div>{ErrorContent}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginSite;"]},"metadata":{},"sourceType":"module"}